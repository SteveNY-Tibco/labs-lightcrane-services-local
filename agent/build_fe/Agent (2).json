{
    "imports": [
        "github.com/project-flogo/flow",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/log",
        "github.com/TIBCOSoftware/GraphBuilder_Tools/activity/mapping",
        "github.com/TIBCOSoftware/ModelOps/activity/exec",
        "github.com/project-flogo/contrib/activity/actreturn",
        "github.com/project-flogo/flow/activity/subflow",
        "github.com/TIBCOSoftware/GraphBuilder_Tools/activity/jsonserializer",
        "github.com/TIBCOSoftware/ModelOps/activity/httpclient",
        "github.com/TIBCOSoftware/GraphBuilder_Tools/activity/jsondeserializer",
        "github.com/TIBCOSoftware/ModelOps/activity/objectmaker",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/mapper",
        "github.com/TIBCOSoftware/GraphBuilder_Tools/activity/tablequery",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/trigger/timer",
        "github.com/project-flogo/contrib/function/string",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/function/boolean",
        "github.com/TIBCOSoftware/F1_Function/functions/f1",
        "github.com/project-flogo/contrib/function/array"
    ],
    "name": "Agent",
    "description": "",
    "version": "1.0.0",
    "type": "flogo:app",
    "appModel": "1.1.1",
    "feVersion": "2.9.0",
    "triggers": [
        {
            "ref": "#timer",
            "name": "tibco-wi-timer",
            "description": "Simple Timer trigger",
            "settings": {},
            "id": "TimerTrigger",
            "handlers": [
                {
                    "description": "",
                    "settings": {
                        "Repeating": true,
                        "Start Date": "",
                        "Time Interval": "=$property[\"System.Ping_Interval\"]",
                        "Interval Unit": "Second"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:PingLightCrane"
                        },
                        "input": {
                            "Now": ""
                        }
                    },
                    "name": "PingLightCrane"
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:Envoke_Script",
            "data": {
                "name": "Envoke Script",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "LogEnvokeScript",
                        "to": "SetSystemProperties",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "SetSystemProperties",
                        "to": "LogMessage",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogMessage",
                        "to": "DeployWithCustomerScript",
                        "type": "default"
                    },
                    {
                        "id": 4,
                        "from": "DeployWithCustomerScript",
                        "to": "Return_EnvokeScript",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogEnvokeScript",
                        "name": "LogEnvokeScript",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"######## Envoke Script ######## SyncDeploy : \", string.tostring($flow.SyncDeploy), \", ScriptName : \", $flow.ScriptName, \", Namesapce : \", $flow.Namespace, \", DeployFolder : \", $flow.DeployFolder, \", ProjectID : \", $flow.ProjectID, \", DeployType : \", $flow.DeployType, \", ServiceName : \", $flow.ServiceName, \", ScriptSystemEnv : \", string.tostring($flow.ScriptSystemEnv))"
                            }
                        }
                    },
                    {
                        "id": "SetSystemProperties",
                        "name": "SetSystemProperties",
                        "description": "Mapping field from input to output",
                        "activity": {
                            "ref": "#mapping",
                            "settings": {
                                "IsArray": false,
                                "MappingFields": "[{\"Name\":\"SyncDeply\",\"Type\":\"Boolean\"},{\"Name\":\"ScriptSystemEnv\",\"Type\":\"Object\"}]"
                            },
                            "input": {
                                "Mapping": {
                                    "mapping": {
                                        "SkipCondition": "=boolean.false()",
                                        "SyncDeply": "=f1.ternary(null!=$flow.SyncDeploy, $flow.SyncDeploy, boolean.false())",
                                        "ScriptSystemEnv": "=f1.coalesceobject($flow.ScriptSystemEnv, f1.json2object('{}'))"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Mapping": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeply\":{\"type\":\"boolean\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}},\"SkipCondition\":{\"type\":\"boolean\"}}}",
                                        "fe_metadata": "{\"SyncDeply\":true,\"ScriptSystemEnv\":{},\"SkipCondition\":false}"
                                    }
                                },
                                "output": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeply\":{\"type\":\"boolean\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"SyncDeply\":true,\"ScriptSystemEnv\":{}}"
                                    }
                                },
                                "settings": {
                                    "MappingFields": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"SyncDeply\",\"Type\":\"Boolean\"},{\"Name\":\"ScriptSystemEnv\",\"Type\":\"Object\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogMessage",
                        "name": "LogMessage",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=\"@@@@@@@@@@@@@@@@@@ : \" + string.tostring($activity[SetSystemProperties].Data.ScriptSystemEnv)"
                            }
                        }
                    },
                    {
                        "id": "DeployWithCustomerScript",
                        "name": "DeployWithCustomerScript",
                        "description": "This activity build docker image from Dockerfile",
                        "activity": {
                            "ref": "#exec",
                            "settings": {
                                "execConnection": "",
                                "workingFolder": "$WorkFolder$",
                                "numOfExecutions": 2,
                                "leftToken": "$",
                                "rightToken": "$",
                                "variablesDef": "[{\"Name\":\"WorkFolder\",\"Type\":\"String\"},{\"Name\":\"Namespace\",\"Type\":\"String\"},{\"Name\":\"DeployType\",\"Type\":\"String\"},{\"Name\":\"ServiceName\",\"Type\":\"String\"},{\"Name\":\"ProjectID\",\"Type\":\"String\"},{\"Name\":\"ScriptName\",\"Type\":\"String\"},{\"Name\":\"InstanceID\",\"Type\":\"String\"}]"
                            },
                            "input": {
                                "Asynchronous": "=boolean.false()==$activity[SetSystemProperties].Data.SyncDeply",
                                "SkipCondition": "=boolean.false()",
                                "Executable": {
                                    "mapping": {
                                        "Executions": {
                                            "Execution_0": "chmod +x ./$ScriptName$",
                                            "Execution_1": "./$ScriptName$ $Namespace$ $DeployType$ $ServiceName$ $ProjectID$ $InstanceID$"
                                        },
                                        "SystemEnvs": "=$activity[SetSystemProperties].Data.ScriptSystemEnv"
                                    }
                                },
                                "Variables": {
                                    "mapping": {
                                        "ProjectID": "=$flow.ProjectID",
                                        "Namespace": "=$flow.Namespace",
                                        "WorkFolder": "=$flow.DeployFolder",
                                        "DeployType": "=$flow.DeployType",
                                        "ServiceName": "=$flow.ServiceName",
                                        "ScriptName": "=$flow.ScriptName",
                                        "InstanceID": "=$flow.InstanceID"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Executable": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Executions\":{\"type\":\"object\",\"properties\":{\"Execution_0\":{\"type\":\"string\"},\"Execution_1\":{\"type\":\"string\"}}},\"SystemEnvs\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"Executions\":{\"Execution_0\":\"2\",\"Execution_1\":\"2\"},\"SystemEnvs\":{}}"
                                    },
                                    "Variables": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"WorkFolder\":{\"type\":\"string\"},\"Namespace\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"WorkFolder\":\"2\",\"Namespace\":\"2\",\"DeployType\":\"2\",\"ServiceName\":\"2\",\"ProjectID\":\"2\",\"ScriptName\":\"2\",\"InstanceID\":\"2\"}"
                                    }
                                },
                                "settings": {
                                    "variablesDef": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"WorkFolder\",\"Type\":\"String\"},{\"Name\":\"Namespace\",\"Type\":\"String\"},{\"Name\":\"DeployType\",\"Type\":\"String\"},{\"Name\":\"ServiceName\",\"Type\":\"String\"},{\"Name\":\"ProjectID\",\"Type\":\"String\"},{\"Name\":\"ScriptName\",\"Type\":\"String\"},{\"Name\":\"InstanceID\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return_EnvokeScript",
                        "name": "Return_EnvokeScript",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "Success": "=$activity[DeployWithCustomerScript].Success",
                                    "ErrorCode": "=$activity[DeployWithCustomerScript].ErrorCode",
                                    "Message": "=string.tostring($activity[DeployWithCustomerScript].Message)"
                                }
                            }
                        }
                    }
                ],
                "errorHandler": {
                    "tasks": [
                        {
                            "id": "Return",
                            "name": "Return",
                            "description": "Simple Return Activity",
                            "activity": {
                                "ref": "#actreturn",
                                "settings": {
                                    "mappings": {
                                        "Success": "=boolean.false()",
                                        "ErrorCode": 400,
                                        "Message": "=$error.message"
                                    }
                                }
                            }
                        }
                    ],
                    "links": []
                },
                "metadata": {
                    "input": [
                        {
                            "name": "SyncDeploy",
                            "type": "boolean"
                        },
                        {
                            "name": "Namespace",
                            "type": "string"
                        },
                        {
                            "name": "DeployFolder",
                            "type": "string"
                        },
                        {
                            "name": "DeployType",
                            "type": "string"
                        },
                        {
                            "name": "ProjectID",
                            "type": "string"
                        },
                        {
                            "name": "ServiceName",
                            "type": "string"
                        },
                        {
                            "name": "InstanceID",
                            "type": "string"
                        },
                        {
                            "name": "ScriptName",
                            "type": "string"
                        },
                        {
                            "name": "ScriptSystemEnv",
                            "type": "object"
                        }
                    ],
                    "output": [
                        {
                            "name": "Success",
                            "type": "boolean"
                        },
                        {
                            "name": "Message",
                            "type": "string"
                        },
                        {
                            "name": "ErrorCode",
                            "type": "float64"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeploy\":{\"type\":\"boolean\"},\"Namespace\":{\"type\":\"string\"},\"DeployFolder\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}",
                        "output": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}"
                    }
                }
            }
        },
        {
            "id": "flow:Unregister",
            "data": {
                "name": "Unregister",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "SetSystemProperties",
                        "to": "DirectEnvokeUndeployScript",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "DirectEnvokeUndeployScript",
                        "to": "BuildUnregisterRequestBody",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "BuildUnregisterRequestBody",
                        "to": "Unregister",
                        "type": "expression",
                        "label": "BuildUnregisterRequestBodytoUnregister",
                        "value": "null!=$activity[SetSystemProperties].Data.F1ServiceType"
                    },
                    {
                        "id": 4,
                        "from": "Unregister",
                        "to": "Return_AfterUnregister",
                        "type": "default"
                    },
                    {
                        "id": 5,
                        "from": "BuildUnregisterRequestBody",
                        "to": "Return_DeirectUndeploy",
                        "type": "exprOtherwise",
                        "label": "BuildUnregisterRequestBody to CopyOfReturn_DeirectUndeploy"
                    }
                ],
                "tasks": [
                    {
                        "id": "SetSystemProperties",
                        "name": "SetSystemProperties",
                        "description": "Mapping field from input to output",
                        "activity": {
                            "ref": "#mapping",
                            "settings": {
                                "IsArray": false,
                                "MappingFields": "[{\"Name\":\"ProjectFolderInt\",\"Type\":\"String\"},{\"Name\":\"DeployFolderInt\",\"Type\":\"String\"},{\"Name\":\"Namespace\",\"Type\":\"String\"},{\"Name\":\"SyncUndeploy\",\"Type\":\"Boolean\"},{\"Name\":\"ServiceName\",\"Type\":\"String\"},{\"Name\":\"F1ServiceType\",\"Type\":\"String\"}]"
                            },
                            "input": {
                                "Mapping": {
                                    "mapping": {
                                        "ProjectFolderInt": "=\"/home/f1/projects/\" + $flow.ProjectID",
                                        "DeployFolderInt": "=\"/home/f1/projects/\" + $flow.ProjectID + \"/deploy/\"",
                                        "Namespace": "=f1.escapek8sid($flow.ProjectID)",
                                        "SkipCondition": "=boolean.false()",
                                        "SyncUndeploy": "=f1.ternary(null!=$flow.SyncUndeploy, $flow.SyncUndeploy, boolean.false())",
                                        "ServiceName": "Not defined!",
                                        "F1ServiceType": "=f1.getsubobject($flow.ScriptSystemEnv, \"F1ServiceType\")"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Mapping": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ProjectFolderInt\":{\"type\":\"string\"},\"DeployFolderInt\":{\"type\":\"string\"},\"Namespace\":{\"type\":\"string\"},\"SyncUndeploy\":{\"type\":\"boolean\"},\"ServiceName\":{\"type\":\"string\"},\"F1ServiceType\":{\"type\":\"string\"},\"SkipCondition\":{\"type\":\"boolean\"}}}",
                                        "fe_metadata": "{\"ProjectFolderInt\":\"2\",\"DeployFolderInt\":\"2\",\"Namespace\":\"2\",\"SyncUndeploy\":true,\"ServiceName\":\"2\",\"F1ServiceType\":\"2\",\"SkipCondition\":false}"
                                    }
                                },
                                "output": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ProjectFolderInt\":{\"type\":\"string\"},\"DeployFolderInt\":{\"type\":\"string\"},\"Namespace\":{\"type\":\"string\"},\"SyncUndeploy\":{\"type\":\"boolean\"},\"ServiceName\":{\"type\":\"string\"},\"F1ServiceType\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"ProjectFolderInt\":\"2\",\"DeployFolderInt\":\"2\",\"Namespace\":\"2\",\"SyncUndeploy\":true,\"ServiceName\":\"2\",\"F1ServiceType\":\"2\"}"
                                    }
                                },
                                "settings": {
                                    "MappingFields": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"ProjectFolderInt\",\"Type\":\"String\"},{\"Name\":\"DeployFolderInt\",\"Type\":\"String\"},{\"Name\":\"Namespace\",\"Type\":\"String\"},{\"Name\":\"SyncUndeploy\",\"Type\":\"Boolean\"},{\"Name\":\"ServiceName\",\"Type\":\"String\"},{\"Name\":\"F1ServiceType\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "DirectEnvokeUndeployScript",
                        "name": "DirectEnvokeUndeployScript",
                        "description": "Simple SubFlow Activity",
                        "activity": {
                            "ref": "#subflow",
                            "settings": {
                                "flowURI": "res://flow:Envoke_Script"
                            },
                            "input": {
                                "SyncDeploy": "=$activity[SetSystemProperties].Data.SyncUndeploy",
                                "Namespace": "=$activity[SetSystemProperties].Data.Namespace",
                                "DeployFolder": "=$activity[SetSystemProperties].Data.DeployFolderInt",
                                "ProjectID": "=$flow.ProjectID",
                                "DeployType": "user-defined",
                                "ServiceName": "=$activity[SetSystemProperties].Data.ServiceName",
                                "ScriptName": "undeploy.sh",
                                "ScriptSystemEnv": "=$flow.ScriptSystemEnv"
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeploy\":{\"type\":\"boolean\"},\"Namespace\":{\"type\":\"string\"},\"DeployFolder\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeploy\":{\"type\":\"boolean\"},\"Namespace\":{\"type\":\"string\"},\"DeployFolder\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "BuildUnregisterRequestBody",
                        "name": "BuildUnregisterRequestBody",
                        "description": "JSON Serializer Activity",
                        "activity": {
                            "ref": "#jsonserializer",
                            "settings": {
                                "schemaFromfile": false,
                                "sample": "",
                                "dataSample": {
                                    "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"}}}",
                                    "value": "",
                                    "fe_metadata": "{\n    \"ID\" : \"\"\n}"
                                }
                            },
                            "input": {
                                "Data": {
                                    "mapping": {
                                        "ID": "=$flow.ProjectID"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"ID\":\"\"}"
                                    }
                                },
                                "settings": {
                                    "dataSample": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\n    \"ID\" : \"\"\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Unregister",
                        "name": "Unregister",
                        "description": "This activity build docker image from Dockerfile",
                        "activity": {
                            "ref": "#httpclient",
                            "settings": {
                                "method": "POST",
                                "timeout": "1000",
                                "leftToken": "$",
                                "rightToken": "$",
                                "variablesDef": "[{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"F1ServiceType\",\"Type\":\"String\"}]"
                            },
                            "input": {
                                "URL": "http://$ServiceLocatorIP$:10080/mops/locator/unregister/$F1ServiceType$",
                                "Body": "=$activity[BuildUnregisterRequestBody].JSONString",
                                "SkipCondition": "=boolean.false()",
                                "Variables": {
                                    "mapping": {
                                        "ServiceLocatorIP": "=$property[\"System.ServiceLocatorIP\"]",
                                        "F1ServiceType": "=$activity[SetSystemProperties].Data.F1ServiceType"
                                    }
                                }
                            },
                            "output": {
                                "Success": false
                            },
                            "schemas": {
                                "input": {
                                    "Variables": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ServiceLocatorIP\":{\"type\":\"string\"},\"F1ServiceType\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"ServiceLocatorIP\":\"2\",\"F1ServiceType\":\"2\"}"
                                    }
                                },
                                "settings": {
                                    "variablesDef": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"F1ServiceType\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return_AfterUnregister",
                        "name": "Return_AfterUnregister",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "Success": "=$activity[Unregister].Success",
                                    "Message": "=$activity[Unregister].Data",
                                    "ErrorCode": "=$activity[Unregister].ErrorCode"
                                }
                            }
                        }
                    },
                    {
                        "id": "Return_DeirectUndeploy",
                        "name": "Return_DeirectUndeploy",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "Success": "=$activity[DirectEnvokeUndeployScript].Success",
                                    "Message": "=$activity[DirectEnvokeUndeployScript].Message",
                                    "ErrorCode": "=$activity[DirectEnvokeUndeployScript].ErrorCode"
                                }
                            }
                        }
                    }
                ],
                "errorHandler": {
                    "tasks": [
                        {
                            "id": "Return",
                            "name": "Return",
                            "description": "Simple Return Activity",
                            "activity": {
                                "ref": "#actreturn",
                                "settings": {
                                    "mappings": {
                                        "Success": "=boolean.false()",
                                        "ErrorCode": 400,
                                        "Message": "=string.concat(\"Deployer::Unregister - \", $error.message)"
                                    }
                                }
                            }
                        }
                    ],
                    "links": []
                },
                "metadata": {
                    "input": [
                        {
                            "name": "SyncUndeploy",
                            "type": "boolean"
                        },
                        {
                            "name": "Method",
                            "type": "string"
                        },
                        {
                            "name": "ProjectID",
                            "type": "string"
                        },
                        {
                            "name": "ScriptSystemEnv",
                            "type": "object"
                        }
                    ],
                    "output": [
                        {
                            "name": "Success",
                            "type": "boolean"
                        },
                        {
                            "name": "Message",
                            "type": "string"
                        },
                        {
                            "name": "ErrorCode",
                            "type": "float64"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncUndeploy\":{\"type\":\"boolean\"},\"Method\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}",
                        "output": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}"
                    }
                }
            }
        },
        {
            "id": "flow:PingLightCrane",
            "data": {
                "name": "PingLightCrane",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "SetSystemProperties",
                        "to": "BuildServiceInfo",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "BuildServiceInfo",
                        "to": "PingServiceLocator",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "PingServiceLocator",
                        "to": "GetDeployedCmps",
                        "type": "expression",
                        "label": "HTTPClienttoHTTPClient1",
                        "value": "$activity[PingServiceLocator].Success"
                    },
                    {
                        "id": 4,
                        "from": "GetDeployedCmps",
                        "to": "BuildQueryObject",
                        "type": "default"
                    },
                    {
                        "id": 5,
                        "from": "BuildQueryObject",
                        "to": "QueryDeployment",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "QueryDeployment",
                        "to": "ExtractDeployment",
                        "type": "default"
                    },
                    {
                        "id": 7,
                        "from": "ExtractDeployment",
                        "to": "LogEnvokeScript",
                        "type": "expression",
                        "label": "ExtractDeploymenttoStartaSubFlow",
                        "value": "boolean.false() == f1.isempty($activity[ExtractDeployment].Data)"
                    },
                    {
                        "id": 8,
                        "from": "LogEnvokeScript",
                        "to": "DownloadResources",
                        "type": "expression",
                        "label": "LogEnvokeScript to DownloadResources",
                        "value": "\"deploy.sh\"==$activity[ExtractDeployment].Data.Variables.ScriptName"
                    },
                    {
                        "id": 9,
                        "from": "DownloadResources",
                        "to": "EnvokeDeployScript",
                        "type": "default"
                    },
                    {
                        "id": 10,
                        "from": "LogEnvokeScript",
                        "to": "EnvokeUndeployScript",
                        "type": "exprOtherwise",
                        "label": "LogEnvokeScript to EnvokeUndeployScript"
                    }
                ],
                "tasks": [
                    {
                        "id": "SetSystemProperties",
                        "name": "SetSystemProperties",
                        "description": "Mapping field from input to output",
                        "activity": {
                            "ref": "#mapping",
                            "settings": {
                                "IsArray": false,
                                "MappingFields": "[{\"Name\":\"AgentID\",\"Type\":\"String\"},{\"Name\":\"ServiceType\",\"Type\":\"String\"}]"
                            },
                            "input": {
                                "Mapping": {
                                    "mapping": {
                                        "AgentID": "=\"agent_\" + $property[\"System.AgentID\"]",
                                        "ServiceType": "agent"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Mapping": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"AgentID\":{\"type\":\"string\"},\"ServiceType\":{\"type\":\"string\"},\"SkipCondition\":{\"type\":\"boolean\"}}}",
                                        "fe_metadata": "{\"AgentID\":\"2\",\"ServiceType\":\"2\",\"SkipCondition\":false}"
                                    }
                                },
                                "output": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"AgentID\":{\"type\":\"string\"},\"ServiceType\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"AgentID\":\"2\",\"ServiceType\":\"2\"}"
                                    }
                                },
                                "settings": {
                                    "MappingFields": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"AgentID\",\"Type\":\"String\"},{\"Name\":\"ServiceType\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "BuildServiceInfo",
                        "name": "BuildServiceInfo",
                        "description": "JSON Serializer Activity",
                        "activity": {
                            "ref": "#jsonserializer",
                            "settings": {
                                "schemaFromfile": false,
                                "sample": "",
                                "dataSample": {
                                    "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"URL\":{\"type\":\"string\"},\"Properties\":{\"type\":\"object\",\"properties\":{}}}}",
                                    "value": "",
                                    "fe_metadata": "{\n    \"ID\": \"\",\n    \"Type\": \"\",\n    \"URL\": \"\",\n    \"Properties\": {}\n}"
                                }
                            },
                            "input": {
                                "Data": {
                                    "mapping": {
                                        "ID": "=$activity[SetSystemProperties].Data.AgentID",
                                        "Type": "=$activity[SetSystemProperties].Data.ServiceType",
                                        "URL": "=\"http://\" + $property[\"System.ServiceLocatorIP\"] + \":10082/f1/agent\""
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"URL\":{\"type\":\"string\"},\"Properties\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"ID\":\"\",\"Type\":\"\",\"URL\":\"\",\"Properties\":{}}"
                                    }
                                },
                                "settings": {
                                    "dataSample": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"URL\":{\"type\":\"string\"},\"Properties\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\n    \"ID\": \"\",\n    \"Type\": \"\",\n    \"URL\": \"\",\n    \"Properties\": {}\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "PingServiceLocator",
                        "name": "PingServiceLocator",
                        "description": "This activity build docker image from Dockerfile",
                        "activity": {
                            "ref": "#httpclient",
                            "settings": {
                                "method": "POST",
                                "timeout": "5000",
                                "urlMappingString": "",
                                "urlMapping": "",
                                "leftToken": "%",
                                "rightToken": "%",
                                "variablesDef": "[{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"ServiceType\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorPort\",\"Type\":\"String\"}]",
                                "httpHeaders": ""
                            },
                            "input": {
                                "URL": "http://%ServiceLocatorIP%:%ServiceLocatorPort%/f1/locator/register/%ServiceType%",
                                "Body": "=$activity[BuildServiceInfo].JSONString",
                                "SkipCondition": false,
                                "Variables": {
                                    "mapping": {
                                        "ServiceLocatorIP": "=$property[\"System.ServiceLocatorIP\"]",
                                        "ServiceType": "=$activity[SetSystemProperties].Data.ServiceType",
                                        "ServiceLocatorPort": "=$property[\"System.ServiceLocatorPort\"]"
                                    }
                                }
                            },
                            "output": {
                                "Success": false
                            },
                            "schemas": {
                                "input": {
                                    "Variables": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ServiceLocatorIP\":{\"type\":\"string\"},\"ServiceType\":{\"type\":\"string\"},\"ServiceLocatorPort\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"ServiceLocatorIP\":\"2\",\"ServiceType\":\"2\",\"ServiceLocatorPort\":\"2\"}"
                                    }
                                },
                                "settings": {
                                    "variablesDef": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"ServiceType\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorPort\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "GetDeployedCmps",
                        "name": "GetDeployedCmps",
                        "description": "Simple SubFlow Activity",
                        "activity": {
                            "ref": "#subflow",
                            "settings": {
                                "flowURI": "res://flow:CheckDeployments"
                            },
                            "input": {
                                "Now": "=$flow.Now"
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Now\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Now\":{\"type\":\"string\"}}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"DeployedComponents\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"DeployedComponents\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "BuildQueryObject",
                        "name": "BuildQueryObject",
                        "description": "JSON Serializer Activity",
                        "activity": {
                            "ref": "#jsonserializer",
                            "settings": {
                                "schemaFromfile": false,
                                "sample": "",
                                "dataSample": {
                                    "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"NetworkAddress\":{\"type\":\"string\"},\"DeployedComponents\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}}}",
                                    "value": "",
                                    "fe_metadata": "{\n    \"NetworkAddress\": \"string\",\n    \"DeployedComponents\":\n    [{\n        \"ID\": \"string\",\n        \"Type\": \"string\",\n        \"Properties\": [{\n            \"Name\": \"string\",\n            \"Value\": \"string\"\n        }]\n    }]\n}\n"
                                }
                            },
                            "input": {
                                "Data": {
                                    "mapping": {
                                        "DeployedComponents": "=$activity[GetDeployedCmps].DeployedComponents",
                                        "NetworkAddress": "=$property[\"System.NetworkAddress\"]"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"NetworkAddress\":{\"type\":\"string\"},\"DeployedComponents\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}}}",
                                        "fe_metadata": "{\"NetworkAddress\":\"string\",\"DeployedComponents\":[{\"ID\":\"string\",\"Type\":\"string\",\"Properties\":[{\"Name\":\"string\",\"Value\":\"string\"}]}]}"
                                    }
                                },
                                "settings": {
                                    "dataSample": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"NetworkAddress\":{\"type\":\"string\"},\"DeployedComponents\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}}}",
                                        "fe_metadata": "{\n    \"NetworkAddress\": \"string\",\n    \"DeployedComponents\":\n    [{\n        \"ID\": \"string\",\n        \"Type\": \"string\",\n        \"Properties\": [{\n            \"Name\": \"string\",\n            \"Value\": \"string\"\n        }]\n    }]\n}\n"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "QueryDeployment",
                        "name": "QueryDeployment",
                        "description": "This activity build docker image from Dockerfile",
                        "activity": {
                            "ref": "#httpclient",
                            "settings": {
                                "method": "POST",
                                "timeout": "10000",
                                "urlMappingString": "",
                                "urlMapping": "",
                                "leftToken": "$",
                                "rightToken": "$",
                                "variablesDef": "[{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorPort\",\"Type\":\"String\"},{\"Name\":\"AgentID\",\"Type\":\"String\"}]",
                                "httpHeaders": ""
                            },
                            "input": {
                                "URL": "http://$ServiceLocatorIP$:$ServiceLocatorPort$/f1/deployer/deployment/$AgentID$",
                                "Body": "=$activity[BuildQueryObject].JSONString",
                                "SkipCondition": false,
                                "Variables": {
                                    "mapping": {
                                        "ServiceLocatorIP": "=$property[\"System.ServiceLocatorIP\"]",
                                        "ServiceLocatorPort": "=$property[\"System.ServiceLocatorPort\"]",
                                        "AgentID": "=$activity[SetSystemProperties].Data.AgentID"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Variables": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ServiceLocatorIP\":{\"type\":\"string\"},\"ServiceLocatorPort\":{\"type\":\"string\"},\"AgentID\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"ServiceLocatorIP\":\"2\",\"ServiceLocatorPort\":\"2\",\"AgentID\":\"2\"}"
                                    }
                                },
                                "settings": {
                                    "variablesDef": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorPort\",\"Type\":\"String\"},{\"Name\":\"AgentID\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "ExtractDeployment",
                        "name": "ExtractDeployment",
                        "description": "JSON Deserializer Activity",
                        "activity": {
                            "ref": "#jsondeserializer",
                            "settings": {
                                "schemaFromfile": false,
                                "sample": "",
                                "dataSample": {
                                    "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"AgentID\":{\"type\":\"string\"},\"Variables\":{\"type\":\"object\",\"properties\":{\"Namespace\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"}}},\"SystemEnv\":{\"type\":\"object\",\"properties\":{}},\"Resources\":{\"type\":\"object\",\"properties\":{\"Path\":{\"type\":\"string\"},\"File\":{\"type\":\"string\"}}}}}",
                                    "value": "",
                                    "fe_metadata": "{\n    \"AgentID\" : \"\",\n    \"Variables\" : {\n        \"Namespace\" : \"\",\n        \"DeployType\" : \"\",\n        \"ProjectID\" : \"\",\n        \"ServiceName\" : \"\",\n        \"InstanceID\" : \"\",\n        \"ScriptName\" : \"\"\n    },\n    \"SystemEnv\" : {},\n    \"Resources\" : {\n        \"Path\" : \"\",\n        \"File\" : \"\"\n    }\n}"
                                },
                                "defaultValue": ""
                            },
                            "input": {
                                "JSONString": "=$activity[QueryDeployment].Data"
                            },
                            "schemas": {
                                "output": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"AgentID\":{\"type\":\"string\"},\"Variables\":{\"type\":\"object\",\"properties\":{\"Namespace\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"}}},\"SystemEnv\":{\"type\":\"object\",\"properties\":{}},\"Resources\":{\"type\":\"object\",\"properties\":{\"Path\":{\"type\":\"string\"},\"File\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\"AgentID\":\"\",\"Variables\":{\"Namespace\":\"\",\"DeployType\":\"\",\"ProjectID\":\"\",\"ServiceName\":\"\",\"InstanceID\":\"\",\"ScriptName\":\"\"},\"SystemEnv\":{},\"Resources\":{\"Path\":\"\",\"File\":\"\"}}"
                                    }
                                },
                                "settings": {
                                    "dataSample": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"AgentID\":{\"type\":\"string\"},\"Variables\":{\"type\":\"object\",\"properties\":{\"Namespace\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"}}},\"SystemEnv\":{\"type\":\"object\",\"properties\":{}},\"Resources\":{\"type\":\"object\",\"properties\":{\"Path\":{\"type\":\"string\"},\"File\":{\"type\":\"string\"}}}}}",
                                        "fe_metadata": "{\n    \"AgentID\" : \"\",\n    \"Variables\" : {\n        \"Namespace\" : \"\",\n        \"DeployType\" : \"\",\n        \"ProjectID\" : \"\",\n        \"ServiceName\" : \"\",\n        \"InstanceID\" : \"\",\n        \"ScriptName\" : \"\"\n    },\n    \"SystemEnv\" : {},\n    \"Resources\" : {\n        \"Path\" : \"\",\n        \"File\" : \"\"\n    }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogEnvokeScript",
                        "name": "LogEnvokeScript",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"^^^^^^ Envoke Script ^^^^^^ Deployment Data : \", string.tostring($activity[ExtractDeployment].Data))"
                            }
                        }
                    },
                    {
                        "id": "DownloadResources",
                        "name": "DownloadResources",
                        "description": "This activity build docker image from Dockerfile",
                        "activity": {
                            "ref": "#exec",
                            "settings": {
                                "execConnection": "",
                                "workingFolder": "%WorkFolder%",
                                "numOfExecutions": 2,
                                "leftToken": "%",
                                "rightToken": "%",
                                "variablesDef": "[{\"Name\":\"WorkFolder\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorPort\",\"Type\":\"String\"},{\"Name\":\"Path\",\"Type\":\"String\"},{\"Name\":\"File\",\"Type\":\"String\"}]",
                                "SystemEnv": ""
                            },
                            "input": {
                                "Asynchronous": false,
                                "SkipCondition": false,
                                "Executable": {
                                    "mapping": {
                                        "Executions": {
                                            "Execution_0": "curl http://%ServiceLocatorIP%:%ServiceLocatorPort%/%Path%/%File% --output %File%",
                                            "Execution_1": "unzip -o %File%"
                                        }
                                    }
                                },
                                "Variables": {
                                    "mapping": {
                                        "WorkFolder": "=$property[\"System.ProjectBaseFolderInt\"]",
                                        "ServiceLocatorIP": "=$property[\"System.ServiceLocatorIP\"]",
                                        "ServiceLocatorPort": "=$property[\"System.ServiceLocatorPort\"]",
                                        "Path": "=$activity[ExtractDeployment].Data.Resources.Path",
                                        "File": "=$activity[ExtractDeployment].Data.Resources.File"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Executable": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Executions\":{\"type\":\"object\",\"properties\":{\"Execution_0\":{\"type\":\"string\"},\"Execution_1\":{\"type\":\"string\"}}},\"SystemEnvs\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"Executions\":{\"Execution_0\":\"2\",\"Execution_1\":\"2\"},\"SystemEnvs\":{}}"
                                    },
                                    "Variables": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"WorkFolder\":{\"type\":\"string\"},\"ServiceLocatorIP\":{\"type\":\"string\"},\"ServiceLocatorPort\":{\"type\":\"string\"},\"Path\":{\"type\":\"string\"},\"File\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"WorkFolder\":\"2\",\"ServiceLocatorIP\":\"2\",\"ServiceLocatorPort\":\"2\",\"Path\":\"2\",\"File\":\"2\"}"
                                    }
                                },
                                "settings": {
                                    "variablesDef": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}},\"required\":[\"Name\",\"Type\"]}}",
                                        "fe_metadata": "[{\"Name\":\"WorkFolder\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorIP\",\"Type\":\"String\"},{\"Name\":\"ServiceLocatorPort\",\"Type\":\"String\"},{\"Name\":\"Path\",\"Type\":\"String\"},{\"Name\":\"File\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "EnvokeDeployScript",
                        "name": "EnvokeDeployScript",
                        "description": "Simple SubFlow Activity",
                        "activity": {
                            "ref": "#subflow",
                            "settings": {
                                "flowURI": "res://flow:Envoke_Script"
                            },
                            "input": {
                                "Namespace": "=$activity[ExtractDeployment].Data.Variables.Namespace",
                                "DeployFolder": "=string.concat($property[\"System.ProjectBaseFolderInt\"], \"/\", $activity[ExtractDeployment].Data.Variables.ProjectID, \"/deploy/\")",
                                "DeployType": "=$activity[ExtractDeployment].Data.Variables.DeployType",
                                "ProjectID": "=$activity[ExtractDeployment].Data.Variables.ProjectID",
                                "ServiceName": "=$activity[ExtractDeployment].Data.Variables.ServiceName",
                                "InstanceID": "=$activity[ExtractDeployment].Data.Variables.InstanceID",
                                "ScriptName": "=$activity[ExtractDeployment].Data.Variables.ScriptName",
                                "ScriptSystemEnv": "=$activity[ExtractDeployment].Data.SystemEnv"
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeploy\":{\"type\":\"boolean\"},\"Namespace\":{\"type\":\"string\"},\"DeployFolder\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeploy\":{\"type\":\"boolean\"},\"Namespace\":{\"type\":\"string\"},\"DeployFolder\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "EnvokeUndeployScript",
                        "name": "EnvokeUndeployScript",
                        "description": "Simple SubFlow Activity",
                        "activity": {
                            "ref": "#subflow",
                            "settings": {
                                "flowURI": "res://flow:Envoke_Script"
                            },
                            "input": {
                                "Namespace": "=$activity[ExtractDeployment].Data.Variables.Namespace",
                                "DeployFolder": "=string.concat($property[\"System.ProjectBaseFolderInt\"], \"/\", $activity[ExtractDeployment].Data.Variables.ProjectID, \"/deploy/\")",
                                "DeployType": "=$activity[ExtractDeployment].Data.Variables.DeployType",
                                "ProjectID": "=$activity[ExtractDeployment].Data.Variables.ProjectID",
                                "ServiceName": "=$activity[ExtractDeployment].Data.Variables.ServiceName",
                                "InstanceID": "=$activity[ExtractDeployment].Data.Variables.InstanceID",
                                "ScriptName": "=$activity[ExtractDeployment].Data.Variables.ScriptName",
                                "ScriptSystemEnv": "=$activity[ExtractDeployment].Data.SystemEnv"
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeploy\":{\"type\":\"boolean\"},\"Namespace\":{\"type\":\"string\"},\"DeployFolder\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"SyncDeploy\":{\"type\":\"boolean\"},\"Namespace\":{\"type\":\"string\"},\"DeployFolder\":{\"type\":\"string\"},\"DeployType\":{\"type\":\"string\"},\"ProjectID\":{\"type\":\"string\"},\"ServiceName\":{\"type\":\"string\"},\"InstanceID\":{\"type\":\"string\"},\"ScriptName\":{\"type\":\"string\"},\"ScriptSystemEnv\":{\"type\":\"object\",\"properties\":{}}}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Success\":{\"type\":\"boolean\"},\"Message\":{\"type\":\"string\"},\"ErrorCode\":{\"type\":\"number\"}}}"
                                    }
                                }
                            }
                        }
                    }
                ],
                "errorHandler": {
                    "tasks": [
                        {
                            "id": "LogMessage",
                            "name": "LogMessage",
                            "description": "Simple Log Message Activity",
                            "activity": {
                                "ref": "#log",
                                "input": {
                                    "Log Level": "INFO",
                                    "flowInfo": false,
                                    "message": "=string.concat(\"!!!!!!!!!!!!!! ERROR !!!!!!!!!!!!! activity = \", $error.activity, \", message = \", $error.message, \", data = \", string.tostring($error.data))"
                                }
                            }
                        }
                    ],
                    "links": []
                },
                "metadata": {
                    "input": [
                        {
                            "name": "Now",
                            "type": "string"
                        }
                    ],
                    "output": [],
                    "fe_metadata": {
                        "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Now\":{\"type\":\"string\"}}}"
                    }
                }
            }
        },
        {
            "id": "flow:CheckDeployments",
            "data": {
                "name": "CheckDeployments",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "CkeckDeployed",
                        "to": "LogRawDeployedInfo",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "LogRawDeployedInfo",
                        "to": "DeployedObjects",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "DeployedObjects",
                        "to": "ConstructDeployedCmps",
                        "type": "default"
                    },
                    {
                        "id": 4,
                        "from": "ConstructDeployedCmps",
                        "to": "Mapper",
                        "type": "label",
                        "label": "ConstructDeployedCmpstoMapper"
                    },
                    {
                        "id": 5,
                        "from": "Mapper",
                        "to": "LogExtractedDeployment",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "LogExtractedDeployment",
                        "to": "TableQuery",
                        "type": "default"
                    },
                    {
                        "id": 7,
                        "from": "TableQuery",
                        "to": "LogCheckDeployed",
                        "type": "default"
                    },
                    {
                        "id": 8,
                        "from": "LogCheckDeployed",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "CkeckDeployed",
                        "name": "CkeckDeployed",
                        "description": "This activity build docker image from Dockerfile",
                        "activity": {
                            "ref": "#exec",
                            "settings": {
                                "execConnection": "",
                                "workingFolder": "$WorkFolder$",
                                "numOfExecutions": 1,
                                "leftToken": "$",
                                "rightToken": "$",
                                "variablesDef": "[{\"Name\":\"WorkFolder\",\"Type\":\"String\"}]",
                                "SystemEnv": ""
                            },
                            "input": {
                                "Asynchronous": false,
                                "SkipCondition": false,
                                "Variables": {
                                    "mapping": {
                                        "WorkFolder": "=$property[\"System.ProjectBaseFolderInt\"]"
                                    }
                                },
                                "Executable": {
                                    "mapping": {
                                        "Executions": {
                                            "Execution_0": "curl --silent --unix-socket /var/run/docker.sock http:/v1.24/containers/json"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "Executable": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Executions\":{\"type\":\"object\",\"properties\":{\"Execution_0\":{\"type\":\"string\"}}},\"SystemEnvs\":{\"type\":\"object\",\"properties\":{}}}}",
                                        "fe_metadata": "{\"Executions\":{\"Execution_0\":\"2\"},\"SystemEnvs\":{}}"
                                    },
                                    "Variables": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"WorkFolder\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"WorkFolder\":\"2\"}"
                                    }
                                },
                                "output": {
                                    "Result": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Command\":{\"type\":\"string\"},\"StdOut\":{\"type\":\"string\"},\"StdErr\":{\"type\":\"string\"}}}}",
                                        "fe_metadata": "[{\"Command\":\"2\",\"StdOut\":\"2\",\"StdErr\":\"2\"}]"
                                    }
                                },
                                "settings": {
                                    "variablesDef": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"}}}}",
                                        "fe_metadata": "[{\"Name\":\"WorkFolder\",\"Type\":\"String\"}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogRawDeployedInfo",
                        "name": "LogRawDeployedInfo",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"########## Deployed ########### (\", $activity[CkeckDeployed].Result[0].StdOut, \")\")"
                            }
                        }
                    },
                    {
                        "id": "DeployedObjects",
                        "name": "DeployedObjects",
                        "description": "JSON Deserializer Activity",
                        "activity": {
                            "ref": "#jsondeserializer",
                            "settings": {
                                "schemaFromfile": false,
                                "sample": "",
                                "dataSample": {
                                    "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Id\":{\"type\":\"string\"},\"Names\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"Image\":{\"type\":\"string\"},\"ImageID\":{\"type\":\"string\"},\"Command\":{\"type\":\"string\"},\"Created\":{\"type\":\"number\"},\"Ports\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"PrivatePort\":{\"type\":\"number\"},\"Type\":{\"type\":\"string\"},\"IP\":{\"type\":\"string\"},\"PublicPort\":{\"type\":\"number\"}},\"required\":[\"PrivatePort\",\"Type\"]}},\"Labels\":{\"type\":\"object\",\"properties\":{\"com.docker.compose.config-hash\":{\"type\":\"string\"},\"com.docker.compose.container-number\":{\"type\":\"string\"},\"com.docker.compose.oneoff\":{\"type\":\"string\"},\"com.docker.compose.project\":{\"type\":\"string\"},\"com.docker.compose.project.config_files\":{\"type\":\"string\"},\"com.docker.compose.project.working_dir\":{\"type\":\"string\"},\"com.docker.compose.service\":{\"type\":\"string\"},\"com.docker.compose.version\":{\"type\":\"string\"}}},\"State\":{\"type\":\"string\"},\"Status\":{\"type\":\"string\"},\"HostConfig\":{\"type\":\"object\",\"properties\":{\"NetworkMode\":{\"type\":\"string\"}}},\"NetworkSettings\":{\"type\":\"object\",\"properties\":{\"Networks\":{\"type\":\"object\",\"properties\":{\"http_rest_mqtt\":{\"type\":\"object\",\"properties\":{\"IPAMConfig\":{\"type\":\"null\"},\"Links\":{\"type\":\"null\"},\"Aliases\":{\"type\":\"null\"},\"NetworkID\":{\"type\":\"string\"},\"EndpointID\":{\"type\":\"string\"},\"Gateway\":{\"type\":\"string\"},\"IPAddress\":{\"type\":\"string\"},\"IPPrefixLen\":{\"type\":\"number\"},\"IPv6Gateway\":{\"type\":\"string\"},\"GlobalIPv6Address\":{\"type\":\"string\"},\"GlobalIPv6PrefixLen\":{\"type\":\"number\"},\"MacAddress\":{\"type\":\"string\"},\"DriverOpts\":{\"type\":\"null\"}}}}}}},\"Mounts\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Type\":{\"type\":\"string\"},\"Name\":{\"type\":\"string\"},\"Source\":{\"type\":\"string\"},\"Destination\":{\"type\":\"string\"},\"Driver\":{\"type\":\"string\"},\"Mode\":{\"type\":\"string\"},\"RW\":{\"type\":\"boolean\"},\"Propagation\":{\"type\":\"string\"}}}}}}}",
                                    "value": "",
                                    "fe_metadata": "[{\"Id\":\"b4beaf0601d768154ed0883e05ca82ec3095b9b70634b45aa1b70330492bc146\",\"Names\":[\"/Air-account_00002_mqtt_fs\"],\"Image\":\"lc_mqtt_fs\",\"ImageID\":\"sha256:b3d5190aa4c4345544bac5ae1148ce21c7e899a39b6f3dc96a8868137bc41d80\",\"Command\":\"/opt/tibco/flogo/1.0/bin/flogo-engine\",\"Created\":1621892567,\"Ports\":[{\"PrivatePort\":7777,\"Type\":\"tcp\"},{\"IP\":\"0.0.0.0\",\"PrivatePort\":9999,\"PublicPort\":8080,\"Type\":\"tcp\"}],\"Labels\":{\"com.docker.compose.config-hash\":\"08547e8be4a1a2735fb892d4e325c830df815ebeab2d36f9463a67d0a14fc9b2\",\"com.docker.compose.container-number\":\"1\",\"com.docker.compose.oneoff\":\"False\",\"com.docker.compose.project\":\"lc\",\"com.docker.compose.project.config_files\":\"docker-compose.yml\",\"com.docker.compose.project.working_dir\":\"/home/f1/projects/Air-account_00002/deploy/docker/mqtt_fs\",\"com.docker.compose.service\":\"mqtt_fs\",\"com.docker.compose.version\":\"1.27.4\"},\"State\":\"running\",\"Status\":\"Up 22 hours\",\"HostConfig\":{\"NetworkMode\":\"http_rest_mqtt\"},\"NetworkSettings\":{\"Networks\":{\"http_rest_mqtt\":{\"IPAMConfig\":null,\"Links\":null,\"Aliases\":null,\"NetworkID\":\"e063622c41f535872040313ee600b58e25257184f21f9d2717873af6b406ec0b\",\"EndpointID\":\"5917abbdb78333a4ffc7b5bad0da375181c2bea35bb4138e54fda90fc603b771\",\"Gateway\":\"172.19.0.1\",\"IPAddress\":\"172.19.0.2\",\"IPPrefixLen\":16,\"IPv6Gateway\":\"\",\"GlobalIPv6Address\":\"\",\"GlobalIPv6PrefixLen\":0,\"MacAddress\":\"02:42:ac:13:00:02\",\"DriverOpts\":null}}},\"Mounts\":[{\"Type\":\"volume\",\"Name\":\"e492abd3a94e70a3ef14d4fc8969b8da664609540740406125f2eb58e8bd5f79\",\"Source\":\"\",\"Destination\":\"/opt/tibco/flogo/1.0/bin\",\"Driver\":\"local\",\"Mode\":\"\",\"RW\":true,\"Propagation\":\"\"}]}]"
                                },
                                "defaultValue": ""
                            },
                            "input": {
                                "JSONString": "=string.substring($activity[CkeckDeployed].Result[0].StdOut, 0, string.len($activity[CkeckDeployed].Result[0].StdOut)-1)"
                            },
                            "schemas": {
                                "output": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Id\":{\"type\":\"string\"},\"Names\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"Image\":{\"type\":\"string\"},\"ImageID\":{\"type\":\"string\"},\"Command\":{\"type\":\"string\"},\"Created\":{\"type\":\"number\"},\"Ports\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"PrivatePort\":{\"type\":\"number\"},\"Type\":{\"type\":\"string\"},\"IP\":{\"type\":\"string\"},\"PublicPort\":{\"type\":\"number\"}},\"required\":[\"PrivatePort\",\"Type\"]}},\"Labels\":{\"type\":\"object\",\"properties\":{\"com.docker.compose.config-hash\":{\"type\":\"string\"},\"com.docker.compose.container-number\":{\"type\":\"string\"},\"com.docker.compose.oneoff\":{\"type\":\"string\"},\"com.docker.compose.project\":{\"type\":\"string\"},\"com.docker.compose.project.config_files\":{\"type\":\"string\"},\"com.docker.compose.project.working_dir\":{\"type\":\"string\"},\"com.docker.compose.service\":{\"type\":\"string\"},\"com.docker.compose.version\":{\"type\":\"string\"}}},\"State\":{\"type\":\"string\"},\"Status\":{\"type\":\"string\"},\"HostConfig\":{\"type\":\"object\",\"properties\":{\"NetworkMode\":{\"type\":\"string\"}}},\"NetworkSettings\":{\"type\":\"object\",\"properties\":{\"Networks\":{\"type\":\"object\",\"properties\":{\"http_rest_mqtt\":{\"type\":\"object\",\"properties\":{\"IPAMConfig\":{\"type\":\"null\"},\"Links\":{\"type\":\"null\"},\"Aliases\":{\"type\":\"null\"},\"NetworkID\":{\"type\":\"string\"},\"EndpointID\":{\"type\":\"string\"},\"Gateway\":{\"type\":\"string\"},\"IPAddress\":{\"type\":\"string\"},\"IPPrefixLen\":{\"type\":\"number\"},\"IPv6Gateway\":{\"type\":\"string\"},\"GlobalIPv6Address\":{\"type\":\"string\"},\"GlobalIPv6PrefixLen\":{\"type\":\"number\"},\"MacAddress\":{\"type\":\"string\"},\"DriverOpts\":{\"type\":\"null\"}}}}}}},\"Mounts\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Type\":{\"type\":\"string\"},\"Name\":{\"type\":\"string\"},\"Source\":{\"type\":\"string\"},\"Destination\":{\"type\":\"string\"},\"Driver\":{\"type\":\"string\"},\"Mode\":{\"type\":\"string\"},\"RW\":{\"type\":\"boolean\"},\"Propagation\":{\"type\":\"string\"}}}}}}}",
                                        "fe_metadata": "[{\"Id\":\"b4beaf0601d768154ed0883e05ca82ec3095b9b70634b45aa1b70330492bc146\",\"Names\":[\"/Air-account_00002_mqtt_fs\"],\"Image\":\"lc_mqtt_fs\",\"ImageID\":\"sha256:b3d5190aa4c4345544bac5ae1148ce21c7e899a39b6f3dc96a8868137bc41d80\",\"Command\":\"/opt/tibco/flogo/1.0/bin/flogo-engine\",\"Created\":1621892567,\"Ports\":[{\"PrivatePort\":7777,\"Type\":\"tcp\"},{\"IP\":\"0.0.0.0\",\"PrivatePort\":9999,\"PublicPort\":8080,\"Type\":\"tcp\"}],\"Labels\":{\"com.docker.compose.config-hash\":\"08547e8be4a1a2735fb892d4e325c830df815ebeab2d36f9463a67d0a14fc9b2\",\"com.docker.compose.container-number\":\"1\",\"com.docker.compose.oneoff\":\"False\",\"com.docker.compose.project\":\"lc\",\"com.docker.compose.project.config_files\":\"docker-compose.yml\",\"com.docker.compose.project.working_dir\":\"/home/f1/projects/Air-account_00002/deploy/docker/mqtt_fs\",\"com.docker.compose.service\":\"mqtt_fs\",\"com.docker.compose.version\":\"1.27.4\"},\"State\":\"running\",\"Status\":\"Up 22 hours\",\"HostConfig\":{\"NetworkMode\":\"http_rest_mqtt\"},\"NetworkSettings\":{\"Networks\":{\"http_rest_mqtt\":{\"IPAMConfig\":null,\"Links\":null,\"Aliases\":null,\"NetworkID\":\"e063622c41f535872040313ee600b58e25257184f21f9d2717873af6b406ec0b\",\"EndpointID\":\"5917abbdb78333a4ffc7b5bad0da375181c2bea35bb4138e54fda90fc603b771\",\"Gateway\":\"172.19.0.1\",\"IPAddress\":\"172.19.0.2\",\"IPPrefixLen\":16,\"IPv6Gateway\":\"\",\"GlobalIPv6Address\":\"\",\"GlobalIPv6PrefixLen\":0,\"MacAddress\":\"02:42:ac:13:00:02\",\"DriverOpts\":null}}},\"Mounts\":[{\"Type\":\"volume\",\"Name\":\"e492abd3a94e70a3ef14d4fc8969b8da664609540740406125f2eb58e8bd5f79\",\"Source\":\"\",\"Destination\":\"/opt/tibco/flogo/1.0/bin\",\"Driver\":\"local\",\"Mode\":\"\",\"RW\":true,\"Propagation\":\"\"}]}]"
                                    }
                                },
                                "settings": {
                                    "dataSample": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Id\":{\"type\":\"string\"},\"Names\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"Image\":{\"type\":\"string\"},\"ImageID\":{\"type\":\"string\"},\"Command\":{\"type\":\"string\"},\"Created\":{\"type\":\"number\"},\"Ports\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"PrivatePort\":{\"type\":\"number\"},\"Type\":{\"type\":\"string\"},\"IP\":{\"type\":\"string\"},\"PublicPort\":{\"type\":\"number\"}},\"required\":[\"PrivatePort\",\"Type\"]}},\"Labels\":{\"type\":\"object\",\"properties\":{\"com.docker.compose.config-hash\":{\"type\":\"string\"},\"com.docker.compose.container-number\":{\"type\":\"string\"},\"com.docker.compose.oneoff\":{\"type\":\"string\"},\"com.docker.compose.project\":{\"type\":\"string\"},\"com.docker.compose.project.config_files\":{\"type\":\"string\"},\"com.docker.compose.project.working_dir\":{\"type\":\"string\"},\"com.docker.compose.service\":{\"type\":\"string\"},\"com.docker.compose.version\":{\"type\":\"string\"}}},\"State\":{\"type\":\"string\"},\"Status\":{\"type\":\"string\"},\"HostConfig\":{\"type\":\"object\",\"properties\":{\"NetworkMode\":{\"type\":\"string\"}}},\"NetworkSettings\":{\"type\":\"object\",\"properties\":{\"Networks\":{\"type\":\"object\",\"properties\":{\"http_rest_mqtt\":{\"type\":\"object\",\"properties\":{\"IPAMConfig\":{\"type\":\"null\"},\"Links\":{\"type\":\"null\"},\"Aliases\":{\"type\":\"null\"},\"NetworkID\":{\"type\":\"string\"},\"EndpointID\":{\"type\":\"string\"},\"Gateway\":{\"type\":\"string\"},\"IPAddress\":{\"type\":\"string\"},\"IPPrefixLen\":{\"type\":\"number\"},\"IPv6Gateway\":{\"type\":\"string\"},\"GlobalIPv6Address\":{\"type\":\"string\"},\"GlobalIPv6PrefixLen\":{\"type\":\"number\"},\"MacAddress\":{\"type\":\"string\"},\"DriverOpts\":{\"type\":\"null\"}}}}}}},\"Mounts\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Type\":{\"type\":\"string\"},\"Name\":{\"type\":\"string\"},\"Source\":{\"type\":\"string\"},\"Destination\":{\"type\":\"string\"},\"Driver\":{\"type\":\"string\"},\"Mode\":{\"type\":\"string\"},\"RW\":{\"type\":\"boolean\"},\"Propagation\":{\"type\":\"string\"}}}}}}}",
                                        "fe_metadata": "[{\"Id\":\"b4beaf0601d768154ed0883e05ca82ec3095b9b70634b45aa1b70330492bc146\",\"Names\":[\"/Air-account_00002_mqtt_fs\"],\"Image\":\"lc_mqtt_fs\",\"ImageID\":\"sha256:b3d5190aa4c4345544bac5ae1148ce21c7e899a39b6f3dc96a8868137bc41d80\",\"Command\":\"/opt/tibco/flogo/1.0/bin/flogo-engine\",\"Created\":1621892567,\"Ports\":[{\"PrivatePort\":7777,\"Type\":\"tcp\"},{\"IP\":\"0.0.0.0\",\"PrivatePort\":9999,\"PublicPort\":8080,\"Type\":\"tcp\"}],\"Labels\":{\"com.docker.compose.config-hash\":\"08547e8be4a1a2735fb892d4e325c830df815ebeab2d36f9463a67d0a14fc9b2\",\"com.docker.compose.container-number\":\"1\",\"com.docker.compose.oneoff\":\"False\",\"com.docker.compose.project\":\"lc\",\"com.docker.compose.project.config_files\":\"docker-compose.yml\",\"com.docker.compose.project.working_dir\":\"/home/f1/projects/Air-account_00002/deploy/docker/mqtt_fs\",\"com.docker.compose.service\":\"mqtt_fs\",\"com.docker.compose.version\":\"1.27.4\"},\"State\":\"running\",\"Status\":\"Up 22 hours\",\"HostConfig\":{\"NetworkMode\":\"http_rest_mqtt\"},\"NetworkSettings\":{\"Networks\":{\"http_rest_mqtt\":{\"IPAMConfig\":null,\"Links\":null,\"Aliases\":null,\"NetworkID\":\"e063622c41f535872040313ee600b58e25257184f21f9d2717873af6b406ec0b\",\"EndpointID\":\"5917abbdb78333a4ffc7b5bad0da375181c2bea35bb4138e54fda90fc603b771\",\"Gateway\":\"172.19.0.1\",\"IPAddress\":\"172.19.0.2\",\"IPPrefixLen\":16,\"IPv6Gateway\":\"\",\"GlobalIPv6Address\":\"\",\"GlobalIPv6PrefixLen\":0,\"MacAddress\":\"02:42:ac:13:00:02\",\"DriverOpts\":null}}},\"Mounts\":[{\"Type\":\"volume\",\"Name\":\"e492abd3a94e70a3ef14d4fc8969b8da664609540740406125f2eb58e8bd5f79\",\"Source\":\"\",\"Destination\":\"/opt/tibco/flogo/1.0/bin\",\"Driver\":\"local\",\"Mode\":\"\",\"RW\":true,\"Propagation\":\"\"}]}]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "ConstructDeployedCmps",
                        "name": "ConstructDeployedCmps",
                        "description": "Make an New Object",
                        "type": "iterator",
                        "settings": {
                            "iterate": "=$activity[DeployedObjects].Data",
                            "accumulate": true
                        },
                        "activity": {
                            "ref": "#objectmaker",
                            "settings": {
                                "schemaFromfile": false,
                                "sample": "",
                                "dataSample": {
                                    "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Project\":{\"type\":\"string\"},\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Folder\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}",
                                    "value": "",
                                    "fe_metadata": "{\n    \"Project\": \"string\",\n    \"ID\": \"string\",\n    \"Type\": \"string\",\n    \"Folder\":\"string\",\n    \"Properties\": [{\n        \"Name\": \"string\",\n        \"Value\": \"string\"\n    }]\n}\n"
                                },
                                "defaultValue": ""
                            },
                            "input": {
                                "ObjectDataMapping": {
                                    "mapping": {
                                        "ID": "=$iteration[value].Names[0]",
                                        "Type": "Service",
                                        "Properties": "=f1.object2properties($iteration[value], \"\")",
                                        "Project": "=f1.getsubobject($iteration[value].Labels, \"com.docker.compose.project\")",
                                        "Folder": "=f1.getsubobject($iteration[value].Labels, \"com.docker.compose.project.working_dir\")"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "ObjectDataMapping": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Project\":{\"type\":\"string\"},\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Folder\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\"Project\":\"string\",\"ID\":\"string\",\"Type\":\"string\",\"Folder\":\"string\",\"Properties\":[{\"Name\":\"string\",\"Value\":\"string\"}]}"
                                    }
                                },
                                "output": {
                                    "ObjectOut": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Project\":{\"type\":\"string\"},\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Folder\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\"Project\":\"string\",\"ID\":\"string\",\"Type\":\"string\",\"Folder\":\"string\",\"Properties\":[{\"Name\":\"string\",\"Value\":\"string\"}]}"
                                    }
                                },
                                "settings": {
                                    "dataSample": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Project\":{\"type\":\"string\"},\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Folder\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}",
                                        "fe_metadata": "{\n    \"Project\": \"string\",\n    \"ID\": \"string\",\n    \"Type\": \"string\",\n    \"Folder\":\"string\",\n    \"Properties\": [{\n        \"Name\": \"string\",\n        \"Value\": \"string\"\n    }]\n}\n"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Mapper",
                        "name": "Mapper",
                        "description": "Mapper Activity",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "@foreach($activity[ConstructDeployedCmps], input)": {
                                            "ID": "=$loop.ObjectOut.ID",
                                            "Type": "=$loop.ObjectOut.Type",
                                            "Properties": {
                                                "@foreach($loop[input].ObjectOut.Properties, Properties)": {
                                                    "Name": "=$loop.Name",
                                                    "Value": "=$loop.Value"
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}",
                                        "fe_metadata": "[{\n    \"ID\": \"string\",\n    \"Type\": \"string\",\n    \"Properties\": [{\n        \"Name\": \"string\",\n        \"Value\": \"string\"\n    }]\n}]"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}",
                                        "fe_metadata": "[\n  {\n    \"ID\": \"string\",\n    \"Type\": \"string\",\n    \"Properties\": [\n      {\n        \"Name\": \"string\",\n        \"Value\": \"string\"\n      }\n    ]\n  }\n]"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogExtractedDeployment",
                        "name": "LogExtractedDeployment",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"########## Deployed Result ########### (\", string.tostring($activity[Mapper].output), \")\")"
                            }
                        }
                    },
                    {
                        "id": "TableQuery",
                        "name": "TableQuery",
                        "description": "A simple activity for quering data from table",
                        "type": "iterator",
                        "settings": {
                            "iterate": "=$activity[Mapper].output",
                            "accumulate": true
                        },
                        "activity": {
                            "ref": "#tablequery",
                            "settings": {
                                "Table": {
                                    "id": "48b6c210-bbdf-11eb-8455-ed420539f82c",
                                    "type": "flogo:connector",
                                    "version": "1.0.0",
                                    "name": "tibco-simple-table",
                                    "hashTags": [],
                                    "inputMappings": {},
                                    "outputMappings": {},
                                    "iteratorMappings": {},
                                    "title": "Simple Table",
                                    "description": "This is URL file reader",
                                    "ref": "github.com/TIBCOSoftware/GraphBuilder_Tools/connector/simpletable",
                                    "settings": [
                                        {
                                            "name": "name",
                                            "type": "string",
                                            "required": true,
                                            "display": {
                                                "name": "Table Name",
                                                "description": "Name of the table instance"
                                            },
                                            "value": "AgentDeployments"
                                        },
                                        {
                                            "name": "description",
                                            "type": "string",
                                            "display": {
                                                "name": "Description",
                                                "description": "A simple table for storing tuple"
                                            },
                                            "value": ""
                                        },
                                        {
                                            "name": "schema",
                                            "type": "array",
                                            "required": true,
                                            "display": {
                                                "name": "Table Schema",
                                                "description": "Schema of the table",
                                                "type": "table",
                                                "schema": "{\r\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\r\n    \"definitions\": {},\r\n    \"id\": \"http://example.com/example.json\",\r\n    \"items\": {\r\n        \"id\": \"/items\",\r\n        \"properties\": {\r\n            \"Name\": {\r\n                \"id\": \"/items/properties/Name\",\r\n                \"type\": \"string\"\r\n            },\r\n            \"Type\": {\r\n                \"id\": \"/items/properties/Type\",\r\n                \"type\": {\"enum\":[\"String\", \"Integer\", \"Long\", \"Double\", \"Boolean\", \"Date\", \"Object\"]}\r\n            },\r\n            \"IsKey\": {\r\n                \"id\": \"/items/properties/IsKey\",\r\n                \"type\": {\"enum\":[\"no\", \"yes\"]}\r\n            },\r\n            \"Indexed\": {\r\n                \"id\": \"/items/properties/Indexed\",\r\n                \"type\": {\"enum\":[\"no\", \"yes\"]}\r\n            }\r\n        },\r\n        \"type\": \"object\"\r\n    },\r\n    \"type\": \"array\"\r\n}"
                                            },
                                            "value": "[{\"Name\":\"ID\",\"Type\":\"String\",\"IsKey\":\"yes\",\"Indexed\":\"no\"},{\"Name\":\"Type\",\"Type\":\"String\",\"IsKey\":\"no\",\"Indexed\":\"no\"},{\"Name\":\"Timestamp\",\"Type\":\"Integer\",\"IsKey\":\"no\",\"Indexed\":\"no\"}]"
                                        }
                                    ],
                                    "outputs": [],
                                    "inputs": [],
                                    "handler": {
                                        "settings": []
                                    },
                                    "reply": [],
                                    "s3Prefix": "flogo",
                                    "key": "flogo/GraphBuilder_Tools/connector/simpletable/connector.json",
                                    "display": {
                                        "description": "This is URL file reader",
                                        "category": "GraphBuilder_Tools",
                                        "visible": true,
                                        "smallIcon": "simpletable.png"
                                    },
                                    "actions": [
                                        {
                                            "name": "create",
                                            "display": {
                                                "name": "Create",
                                                "readonly": false,
                                                "valid": true,
                                                "visible": true
                                            }
                                        }
                                    ],
                                    "feature": {},
                                    "loopType": "none",
                                    "loopSettings": [],
                                    "retrySettings": [],
                                    "propertyMap": {},
                                    "keyfield": "name",
                                    "schemaMap": {},
                                    "iteratorAccumulate": false,
                                    "isValid": true,
                                    "lastUpdatedTime": 1621785532401,
                                    "user": "flogo",
                                    "connectorName": "AgentDeployments",
                                    "connectorDescription": " "
                                },
                                "Indices": "ID"
                            },
                            "input": {
                                "QueryKey": {
                                    "mapping": {
                                        "ID": "=$iteration[value].ID"
                                    }
                                }
                            },
                            "output": {
                                "Exists": false
                            },
                            "schemas": {
                                "input": {
                                    "QueryKey": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"ID\":\"2\"}"
                                    }
                                },
                                "output": {
                                    "Data": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Timestamp\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\"ID\":\"2\",\"Type\":\"2\",\"Timestamp\":2}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogCheckDeployed",
                        "name": "LogCheckDeployed",
                        "description": "Simple Log Message Activity",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "Log Level": "INFO",
                                "flowInfo": false,
                                "message": "=string.concat(\"######## Check Deployed ######## Message : \",string.tostring($activity[CkeckDeployed].Message) , \", Data : \" , string.tostring($activity[DeployedObjects].Data[0]), \", DeployedComponents : \" , string.tostring($activity[Mapper].output))"
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "Simple Return Activity",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "DeployedComponents": {
                                        "mapping": []
                                    }
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "Now",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "DeployedComponents",
                            "type": "array",
                            "schema": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"Now\":{\"type\":\"string\"}}}",
                        "output": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"DeployedComponents\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"ID\":{\"type\":\"string\"},\"Type\":{\"type\":\"string\"},\"Properties\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"Name\":{\"type\":\"string\"},\"Value\":{\"type\":\"string\"}}}}}}}}}"
                    }
                }
            }
        }
    ],
    "properties": [
        {
            "name": "System.ServiceLocatorIP",
            "type": "string",
            "value": "servicelocator"
        },
        {
            "name": "System.Network",
            "type": "string",
            "value": "Network not set !"
        },
        {
            "name": "System.ServiceLocatorPort",
            "type": "string",
            "value": "10080"
        },
        {
            "name": "System.ProjectBaseFolderInt",
            "type": "string",
            "value": "/home/f1/projects"
        },
        {
            "name": "System.Ping_Interval",
            "type": "float64",
            "value": 10
        },
        {
            "name": "System.AgentID",
            "type": "string",
            "value": "AgentID not set !"
        },
        {
            "name": "System.NetworkAddress",
            "type": "string",
            "value": "NetworkAddress not set !"
        },
        {
            "name": "System.BaseFolderExtx",
            "type": "string",
            "value": "BaseFolderExt not set ! "
        }
    ],
    "connections": {},
    "contrib": "W3sicmVmIjoiZ2l0LnRpYmNvLmNvbS9naXQvcHJvZHVjdC9pcGFhcy93aS1jb250cmliLmdpdC9jb250cmlidXRpb25zL0dlbmVyYWwiLCJzM2xvY2F0aW9uIjoiVGliY28vR2VuZXJhbCJ9LHsicmVmIjoiZ2l0aHViLmNvbS9USUJDT1NvZnR3YXJlL0dyYXBoQnVpbGRlcl9Ub29scyIsInMzbG9jYXRpb24iOiJ7VVNFUklEfS9HcmFwaEJ1aWxkZXJfVG9vbHMifSx7InJlZiI6ImdpdGh1Yi5jb20vVElCQ09Tb2Z0d2FyZS9Nb2RlbE9wcyIsInMzbG9jYXRpb24iOiJ7VVNFUklEfS9Nb2RlbE9wcyJ9LHsicmVmIjoiZ2l0aHViLmNvbS9USUJDT1NvZnR3YXJlL0YxX0Z1bmN0aW9uL2Z1bmN0aW9ucy9mMSIsInMzbG9jYXRpb24iOiJmbG9nby9mMS9mdW5jdGlvbnMvZjEifV0=",
    "fe_metadata": "UEsDBAoAAAAIAEF/eVOrqSRGFQAAABMAAAAIAAAAYXBwLmpzb26rViopykxPTy1yy8kvL1ayio6tBQBQSwECFAAKAAAACABBf3lTq6kkRhUAAAATAAAACAAAAAAAAAAAAAAAAAAAAAAAYXBwLmpzb25QSwUGAAAAAAEAAQA2AAAAOwAAAAAA"
}